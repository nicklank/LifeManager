{"ast":null,"code":"var _jsxFileName = \"/Users/nicklankau/life-tracker/frontend/src/components/AdaptiveCalendar.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDrag, useDrop, DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport './AdaptiveCalendar.css';\nimport { getTasksByDate } from '../apiService';\nconst ItemTypes = {\n  TASK: 'task'\n};\nconst TaskItem = ({\n  task\n}) => {\n  const [, drag] = useDrag(() => ({\n    type: ItemTypes.TASK,\n    item: {\n      id: task.id\n    }\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: drag,\n    className: \"task-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, task.name);\n};\nconst TimeSlot = ({\n  time,\n  onDropTask\n}) => {\n  const [, drop] = useDrop(() => ({\n    accept: ItemTypes.TASK,\n    drop: item => onDropTask(item.id, time)\n  }));\n  return /*#__PURE__*/React.createElement(\"td\", {\n    ref: drop,\n    className: \"time-slot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, time);\n};\nconst AdaptiveCalendar = () => {\n  const [tasks, setTasks] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const fetchedTasks = await getTasksByDate(selectedDate);\n        setTasks(fetchedTasks);\n      } catch (error) {\n        console.error('Error fetching tasks:', error);\n      }\n    };\n    fetchTasks();\n  }, [selectedDate]);\n  const timeSlots = Array.from({\n    length: 17\n  }, (_, i) => {\n    const hour = 7 + i;\n    return hour > 12 ? `${hour - 12} PM` : `${hour} AM`;\n  });\n  const handleDropTask = (taskId, time) => {\n    // Handle assigning the task to a time slot\n    console.log(`Task ${taskId} dropped on ${time}`);\n  };\n  return /*#__PURE__*/React.createElement(DndProvider, {\n    backend: HTML5Backend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adaptive-calendar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"adaptive-calendar-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, \"Time\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, \"Tasks\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, timeSlots.map((slot, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TimeSlot, {\n    time: slot,\n    onDropTask: handleDropTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 33\n    }\n  }), index === 0 && /*#__PURE__*/React.createElement(\"td\", {\n    className: \"task-slot\",\n    rowSpan: timeSlots.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 37\n    }\n  }, tasks.map(task => /*#__PURE__*/React.createElement(TaskItem, {\n    key: task.id,\n    task: task,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 45\n    }\n  })))))))));\n};\nexport default AdaptiveCalendar;","map":{"version":3,"names":["React","useEffect","useState","useDrag","useDrop","DndProvider","HTML5Backend","getTasksByDate","ItemTypes","TASK","TaskItem","task","drag","type","item","id","createElement","ref","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","TimeSlot","time","onDropTask","drop","accept","AdaptiveCalendar","tasks","setTasks","selectedDate","setSelectedDate","Date","toISOString","split","fetchTasks","fetchedTasks","error","console","timeSlots","Array","from","length","_","i","hour","handleDropTask","taskId","log","backend","map","slot","index","key","rowSpan"],"sources":["/Users/nicklankau/life-tracker/frontend/src/components/AdaptiveCalendar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDrag, useDrop, DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport './AdaptiveCalendar.css';\nimport { getTasksByDate } from '../apiService';\n\nconst ItemTypes = {\n    TASK: 'task',\n};\n\nconst TaskItem = ({ task }) => {\n    const [, drag] = useDrag(() => ({\n        type: ItemTypes.TASK,\n        item: { id: task.id },\n    }));\n\n    return (\n        <div ref={drag} className=\"task-item\">\n            {task.name}\n        </div>\n    );\n};\n\nconst TimeSlot = ({ time, onDropTask }) => {\n    const [, drop] = useDrop(() => ({\n        accept: ItemTypes.TASK,\n        drop: (item) => onDropTask(item.id, time),\n    }));\n\n    return (\n        <td ref={drop} className=\"time-slot\">\n            {time}\n        </td>\n    );\n};\n\nconst AdaptiveCalendar = () => {\n    const [tasks, setTasks] = useState([]);\n    const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n\n    useEffect(() => {\n        const fetchTasks = async () => {\n            try {\n                const fetchedTasks = await getTasksByDate(selectedDate);\n                setTasks(fetchedTasks);\n            } catch (error) {\n                console.error('Error fetching tasks:', error);\n            }\n        };\n\n        fetchTasks();\n    }, [selectedDate]);\n\n    const timeSlots = Array.from({ length: 17 }, (_, i) => {\n        const hour = 7 + i;\n        return hour > 12 ? `${hour - 12} PM` : `${hour} AM`;\n    });\n\n    const handleDropTask = (taskId, time) => {\n        // Handle assigning the task to a time slot\n        console.log(`Task ${taskId} dropped on ${time}`);\n    };\n\n    return (\n        <DndProvider backend={HTML5Backend}>\n            <div className=\"adaptive-calendar-container\">\n                <table className=\"adaptive-calendar-table\">\n                    <thead>\n                        <tr>\n                            <th>Time</th>\n                            <th>Tasks</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {timeSlots.map((slot, index) => (\n                            <tr key={index}>\n                                <TimeSlot time={slot} onDropTask={handleDropTask} />\n                                {index === 0 && (\n                                    <td className=\"task-slot\" rowSpan={timeSlots.length}>\n                                        {tasks.map((task) => (\n                                            <TaskItem key={task.id} task={task} />\n                                        ))}\n                                    </td>\n                                )}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </DndProvider>\n    );\n};\n\nexport default AdaptiveCalendar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}