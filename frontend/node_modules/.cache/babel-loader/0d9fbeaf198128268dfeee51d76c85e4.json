{"ast":null,"code":"var _jsxFileName = \"/Users/nicklankau/life-tracker/frontend/src/components/HabitTracker.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getHabits, createHabit, updateHabit, deleteHabit } from '../apiService';\nimport './HabitTracker.css'; // Ensure this file exists for styling\n\nconst HabitTracker = () => {\n  const [habits, setHabits] = useState([]);\n  const [newHabit, setNewHabit] = useState('');\n  useEffect(() => {\n    // Fetch habits from the server\n    fetchHabits();\n  }, []);\n  const fetchHabits = async () => {\n    try {\n      const response = await getHabits();\n      setHabits(response.data);\n    } catch (error) {\n      console.error('Error fetching habits:', error);\n    }\n  };\n  const handleAddHabit = async () => {\n    if (newHabit.trim() === '') return;\n    try {\n      const response = await createHabit({\n        name: newHabit\n      });\n      setHabits([...habits, response.data]);\n      setNewHabit('');\n    } catch (error) {\n      console.error('Error creating habit:', error);\n    }\n  };\n  const handleToggle = async id => {\n    const habit = habits.find(h => h.id === id);\n    const today = new Date().toISOString().split('T')[0];\n    const newCompleted = {\n      ...habit.completed,\n      [today]: !habit.completed[today]\n    };\n    try {\n      const response = await updateHabit(id, {\n        ...habit,\n        completed: newCompleted\n      });\n      setHabits(habits.map(h => h.id === id ? response.data : h));\n    } catch (error) {\n      console.error('Error updating habit:', error);\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await deleteHabit(id);\n      setHabits(habits.filter(h => h.id !== id));\n    } catch (error) {\n      console.error('Error deleting habit:', error);\n    }\n  };\n  const getStatusSymbol = status => {\n    if (status) return '✔️'; // Checkmark\n    return ''; // No symbol for incomplete\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Habit Tracker\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: newHabit,\n    onChange: e => setNewHabit(e.target.value),\n    placeholder: \"New Habit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleAddHabit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"Add Habit\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"habit-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Habit\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Completed Today\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, habits.map(habit => {\n    const today = new Date().toISOString().split('T')[0];\n    const isCompleted = habit.completed[today] || false;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: habit.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, habit.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: `status-button ${isCompleted ? 'completed' : 'not-completed'}`,\n      onClick: () => handleToggle(habit.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, getStatusSymbol(isCompleted))));\n  }))));\n};\nexport default HabitTracker;","map":{"version":3,"names":["React","useState","useEffect","getHabits","createHabit","updateHabit","deleteHabit","HabitTracker","habits","setHabits","newHabit","setNewHabit","fetchHabits","response","data","error","console","handleAddHabit","trim","name","handleToggle","id","habit","find","h","today","Date","toISOString","split","newCompleted","completed","map","handleDelete","filter","getStatusSymbol","status","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","className","isCompleted","key"],"sources":["/Users/nicklankau/life-tracker/frontend/src/components/HabitTracker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getHabits, createHabit, updateHabit, deleteHabit } from '../apiService';\nimport './HabitTracker.css'; // Ensure this file exists for styling\n\nconst HabitTracker = () => {\n  const [habits, setHabits] = useState([]);\n  const [newHabit, setNewHabit] = useState('');\n\n  useEffect(() => {\n    // Fetch habits from the server\n    fetchHabits();\n  }, []);\n\n  const fetchHabits = async () => {\n    try {\n      const response = await getHabits();\n      setHabits(response.data);\n    } catch (error) {\n      console.error('Error fetching habits:', error);\n    }\n  };\n\n  const handleAddHabit = async () => {\n    if (newHabit.trim() === '') return;\n    try {\n      const response = await createHabit({ name: newHabit });\n      setHabits([...habits, response.data]);\n      setNewHabit('');\n    } catch (error) {\n      console.error('Error creating habit:', error);\n    }\n  };\n\n  const handleToggle = async (id) => {\n    const habit = habits.find((h) => h.id === id);\n    const today = new Date().toISOString().split('T')[0];\n    const newCompleted = { ...habit.completed, [today]: !habit.completed[today] };\n\n    try {\n      const response = await updateHabit(id, { ...habit, completed: newCompleted });\n      setHabits(habits.map((h) => (h.id === id ? response.data : h)));\n    } catch (error) {\n      console.error('Error updating habit:', error);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await deleteHabit(id);\n      setHabits(habits.filter((h) => h.id !== id));\n    } catch (error) {\n      console.error('Error deleting habit:', error);\n    }\n  };\n\n  const getStatusSymbol = (status) => {\n    if (status) return '✔️'; // Checkmark\n    return ''; // No symbol for incomplete\n  };\n\n  return (\n    <div>\n      <h1>Habit Tracker</h1>\n      <input\n        type=\"text\"\n        value={newHabit}\n        onChange={(e) => setNewHabit(e.target.value)}\n        placeholder=\"New Habit\"\n      />\n      <button onClick={handleAddHabit}>Add Habit</button>\n      <table className=\"habit-table\">\n        <thead>\n          <tr>\n            <th>Habit</th>\n            <th>Completed Today</th>\n          </tr>\n        </thead>\n        <tbody>\n          {habits.map((habit) => {\n            const today = new Date().toISOString().split('T')[0];\n            const isCompleted = habit.completed[today] || false;\n            return (\n              <tr key={habit.id}>\n                <td>{habit.name}</td>\n                <td>\n                  <button\n                    className={`status-button ${isCompleted ? 'completed' : 'not-completed'}`}\n                    onClick={() => handleToggle(habit.id)}\n                  >\n                    {getStatusSymbol(isCompleted)}\n                  </button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default HabitTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}