{"ast":null,"code":"var _jsxFileName = \"/Users/nicklankau/life-tracker/frontend/src/components/HabitTracker.js\";\nimport React, { useState, useEffect } from 'react';\nimport './HabitTracker.css'; // Ensure this file exists for styling\nimport { getHabits, createHabit, updateHabit } from '../apiService'; // Import API functions\n\nconst HabitTracker = () => {\n  const [habits, setHabits] = useState([]);\n  const [newHabit, setNewHabit] = useState('');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  useEffect(() => {\n    // Load habits from the server with date filtering\n    const fetchHabits = () => {\n      getHabits({\n        start_date: startDate,\n        end_date: endDate\n      }).then(response => setHabits(response.data)).catch(error => console.error(\"Error fetching habits:\", error));\n    };\n    fetchHabits();\n  }, [startDate, endDate]);\n  const addHabit = () => {\n    const habit = {\n      name: newHabit,\n      completed: {}\n    };\n    createHabit(habit).then(response => {\n      setHabits([...habits, response.data]);\n      setNewHabit('');\n    }).catch(error => console.error(\"Error creating habit:\", error));\n  };\n  const handleToggle = id => {\n    const today = new Date().toISOString().split('T')[0];\n    const habit = habits.find(h => h.id === id);\n    const newCompleted = {\n      ...habit.completed,\n      [today]: !(habit.completed[today] || false)\n    };\n    updateHabit(id, {\n      ...habit,\n      completed: newCompleted\n    }).then(() => {\n      const updatedHabits = habits.map(h => h.id === id ? {\n        ...h,\n        completed: newCompleted\n      } : h);\n      setHabits(updatedHabits);\n    }).catch(error => console.error(\"Error updating habit:\", error));\n  };\n  const getStatusSymbol = status => {\n    return status ? '✔️' : ''; // Checkmark\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Habit Tracker\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: newHabit,\n    onChange: e => setNewHabit(e.target.value),\n    placeholder: \"New Habit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addHabit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Add Habit\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: startDate,\n    onChange: e => setStartDate(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: endDate,\n    onChange: e => setEndDate(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"habit-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Habit\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Completed Today\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, habits.map(habit => {\n    const today = new Date().toISOString().split('T')[0];\n    const isCompleted = habit.completed[today] || false;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: habit.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, habit.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: `status-button ${isCompleted ? 'completed' : 'not-completed'}`,\n      onClick: () => handleToggle(habit.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, getStatusSymbol(isCompleted))));\n  }))));\n};\nexport default HabitTracker;","map":{"version":3,"names":["React","useState","useEffect","getHabits","createHabit","updateHabit","HabitTracker","habits","setHabits","newHabit","setNewHabit","startDate","setStartDate","endDate","setEndDate","fetchHabits","start_date","end_date","then","response","data","catch","error","console","addHabit","habit","name","completed","handleToggle","id","today","Date","toISOString","split","find","h","newCompleted","updatedHabits","map","getStatusSymbol","status","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","className","isCompleted","key"],"sources":["/Users/nicklankau/life-tracker/frontend/src/components/HabitTracker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './HabitTracker.css'; // Ensure this file exists for styling\nimport { getHabits, createHabit, updateHabit } from '../apiService'; // Import API functions\n\nconst HabitTracker = () => {\n  const [habits, setHabits] = useState([]);\n  const [newHabit, setNewHabit] = useState('');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n\n  useEffect(() => {\n    // Load habits from the server with date filtering\n    const fetchHabits = () => {\n      getHabits({ start_date: startDate, end_date: endDate })\n        .then(response => setHabits(response.data))\n        .catch(error => console.error(\"Error fetching habits:\", error));\n    };\n    fetchHabits();\n  }, [startDate, endDate]);\n\n  const addHabit = () => {\n    const habit = { name: newHabit, completed: {} };\n    createHabit(habit)\n      .then(response => {\n        setHabits([...habits, response.data]);\n        setNewHabit('');\n      })\n      .catch(error => console.error(\"Error creating habit:\", error));\n  };\n\n  const handleToggle = (id) => {\n    const today = new Date().toISOString().split('T')[0];\n    const habit = habits.find(h => h.id === id);\n    const newCompleted = { ...habit.completed, [today]: !(habit.completed[today] || false) };\n\n    updateHabit(id, { ...habit, completed: newCompleted })\n      .then(() => {\n        const updatedHabits = habits.map(h => h.id === id ? { ...h, completed: newCompleted } : h);\n        setHabits(updatedHabits);\n      })\n      .catch(error => console.error(\"Error updating habit:\", error));\n  };\n\n  const getStatusSymbol = (status) => {\n    return status ? '✔️' : ''; // Checkmark\n  };\n\n  return (\n    <div>\n      <h1>Habit Tracker</h1>\n      <input\n        type=\"text\"\n        value={newHabit}\n        onChange={(e) => setNewHabit(e.target.value)}\n        placeholder=\"New Habit\"\n      />\n      <button onClick={addHabit}>Add Habit</button>\n\n      <div>\n        <input\n          type=\"date\"\n          value={startDate}\n          onChange={(e) => setStartDate(e.target.value)}\n        />\n        <input\n          type=\"date\"\n          value={endDate}\n          onChange={(e) => setEndDate(e.target.value)}\n        />\n      </div>\n\n      <table className=\"habit-table\">\n        <thead>\n          <tr>\n            <th>Habit</th>\n            <th>Completed Today</th>\n          </tr>\n        </thead>\n        <tbody>\n          {habits.map((habit) => {\n            const today = new Date().toISOString().split('T')[0];\n            const isCompleted = habit.completed[today] || false;\n            return (\n              <tr key={habit.id}>\n                <td>{habit.name}</td>\n                <td>\n                  <button\n                    className={`status-button ${isCompleted ? 'completed' : 'not-completed'}`}\n                    onClick={() => handleToggle(habit.id)}\n                  >\n                    {getStatusSymbol(isCompleted)}\n                  </button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default HabitTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}