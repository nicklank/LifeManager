{"ast":null,"code":"var _jsxFileName = \"/Users/nicklankau/life-tracker/frontend/src/components/HabitTracker.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './HabitTracker.css'; // Ensure this file exists for styling\n\nconst API_URL = 'http://localhost:8000/api/';\nconst HabitTracker = () => {\n  const [habits, setHabits] = useState([]);\n  const [newHabit, setNewHabit] = useState('');\n  useEffect(() => {\n    // Fetch habits from the backend\n    axios.get(`${API_URL}habits/`).then(response => {\n      setHabits(response.data);\n    }).catch(error => {\n      console.error(\"There was an error fetching the habits!\", error);\n    });\n  }, []);\n  const addHabit = () => {\n    const habit = {\n      name: newHabit,\n      description: ''\n    };\n    axios.post(`${API_URL}habits/`, habit).then(response => {\n      setHabits([...habits, response.data]);\n      setNewHabit('');\n    }).catch(error => {\n      console.error(\"There was an error creating the habit!\", error);\n    });\n  };\n  const handleToggle = (habitId, date) => {\n    const habit = habits.find(h => h.id === habitId);\n    const entry = habit.entries.find(e => e.date === date);\n    if (entry) {\n      // Update existing entry\n      axios.put(`${API_URL}habitentries/${entry.id}/`, {\n        ...entry,\n        completed: !entry.completed\n      }).then(response => {\n        const updatedHabits = habits.map(h => {\n          if (h.id === habitId) {\n            return {\n              ...h,\n              entries: h.entries.map(e => e.id === entry.id ? response.data : e)\n            };\n          }\n          return h;\n        });\n        setHabits(updatedHabits);\n      }).catch(error => {\n        console.error(\"There was an error updating the habit entry!\", error);\n      });\n    } else {\n      // Create new entry\n      axios.post(`${API_URL}habitentries/`, {\n        habit: habitId,\n        date,\n        completed: true\n      }).then(response => {\n        const updatedHabits = habits.map(h => {\n          if (h.id === habitId) {\n            return {\n              ...h,\n              entries: [...h.entries, response.data]\n            };\n          }\n          return h;\n        });\n        setHabits(updatedHabits);\n      }).catch(error => {\n        console.error(\"There was an error creating the habit entry!\", error);\n      });\n    }\n  };\n  const getStatusSymbol = status => {\n    if (status) return '✔️'; // Checkmark\n    return ''; // No symbol for incomplete\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Habit Tracker\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: newHabit,\n    onChange: e => setNewHabit(e.target.value),\n    placeholder: \"New Habit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addHabit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"Add Habit\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"habit-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Habit\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Completed Today\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, habits.map(habit => {\n    const today = new Date().toISOString().split('T')[0];\n    const entry = habit.entries.find(e => e.date === today);\n    const isCompleted = entry ? entry.completed : false;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: habit.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, habit.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: `status-button ${isCompleted ? 'completed' : 'not-completed'}`,\n      onClick: () => handleToggle(habit.id, today),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }, getStatusSymbol(isCompleted))));\n  }))));\n};\nexport default HabitTracker;","map":{"version":3,"names":["React","useState","useEffect","axios","API_URL","HabitTracker","habits","setHabits","newHabit","setNewHabit","get","then","response","data","catch","error","console","addHabit","habit","name","description","post","handleToggle","habitId","date","find","h","id","entry","entries","e","put","completed","updatedHabits","map","getStatusSymbol","status","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","placeholder","onClick","className","today","Date","toISOString","split","isCompleted","key"],"sources":["/Users/nicklankau/life-tracker/frontend/src/components/HabitTracker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './HabitTracker.css'; // Ensure this file exists for styling\n\nconst API_URL = 'http://localhost:8000/api/';\n\nconst HabitTracker = () => {\n  const [habits, setHabits] = useState([]);\n  const [newHabit, setNewHabit] = useState('');\n\n  useEffect(() => {\n    // Fetch habits from the backend\n    axios.get(`${API_URL}habits/`)\n      .then(response => {\n        setHabits(response.data);\n      })\n      .catch(error => {\n        console.error(\"There was an error fetching the habits!\", error);\n      });\n  }, []);\n\n  const addHabit = () => {\n    const habit = { name: newHabit, description: '' };\n    axios.post(`${API_URL}habits/`, habit)\n      .then(response => {\n        setHabits([...habits, response.data]);\n        setNewHabit('');\n      })\n      .catch(error => {\n        console.error(\"There was an error creating the habit!\", error);\n      });\n  };\n\n  const handleToggle = (habitId, date) => {\n    const habit = habits.find(h => h.id === habitId);\n    const entry = habit.entries.find(e => e.date === date);\n\n    if (entry) {\n      // Update existing entry\n      axios.put(`${API_URL}habitentries/${entry.id}/`, { ...entry, completed: !entry.completed })\n        .then(response => {\n          const updatedHabits = habits.map(h => {\n            if (h.id === habitId) {\n              return { ...h, entries: h.entries.map(e => e.id === entry.id ? response.data : e) };\n            }\n            return h;\n          });\n          setHabits(updatedHabits);\n        })\n        .catch(error => {\n          console.error(\"There was an error updating the habit entry!\", error);\n        });\n    } else {\n      // Create new entry\n      axios.post(`${API_URL}habitentries/`, { habit: habitId, date, completed: true })\n        .then(response => {\n          const updatedHabits = habits.map(h => {\n            if (h.id === habitId) {\n              return { ...h, entries: [...h.entries, response.data] };\n            }\n            return h;\n          });\n          setHabits(updatedHabits);\n        })\n        .catch(error => {\n          console.error(\"There was an error creating the habit entry!\", error);\n        });\n    }\n  };\n\n  const getStatusSymbol = (status) => {\n    if (status) return '✔️'; // Checkmark\n    return ''; // No symbol for incomplete\n  };\n\n  return (\n    <div>\n      <h1>Habit Tracker</h1>\n      <input\n        type=\"text\"\n        value={newHabit}\n        onChange={(e) => setNewHabit(e.target.value)}\n        placeholder=\"New Habit\"\n      />\n      <button onClick={addHabit}>Add Habit</button>\n      <table className=\"habit-table\">\n        <thead>\n          <tr>\n            <th>Habit</th>\n            <th>Completed Today</th>\n          </tr>\n        </thead>\n        <tbody>\n          {habits.map(habit => {\n            const today = new Date().toISOString().split('T')[0];\n            const entry = habit.entries.find(e => e.date === today);\n            const isCompleted = entry ? entry.completed : false;\n            return (\n              <tr key={habit.id}>\n                <td>{habit.name}</td>\n                <td>\n                  <button className={`status-button ${isCompleted ? 'completed' : 'not-completed'}`} onClick={() => handleToggle(habit.id, today)}>\n                    {getStatusSymbol(isCompleted)}\n                  </button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default HabitTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}